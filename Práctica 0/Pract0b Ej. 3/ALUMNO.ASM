;_______________________________________________________________
; ASIGNATURA: Sistemas basados en Microprocesadores
; CURSO: 3º Doble grado Ingeniería Informática y Matemáticas
; GRUPO: 2301
; NOMBRE: Rubén García de la Fuente
;_______________________________________________________________

;_______________________________________________________________
; DEFINICION DEL SEGMENTO DE DATOS
DATOS SEGMENT
	CLR_PANT 	DB 	1BH,"[2","J$"
	CUR_MICRO	DB 	1BH,"4;27fTECNOLOGIA DE COMPUTADORES$"
	PREG_NOM 	DB 	1BH,"[15;1fESCRIBE TU NOMBRE ? $"
	NOMBRE		DB 	80 DUP (0)

;_______________________________________________________________
; MODIFICACION 1
	PREG_AP1 		DB 	1BH,"[16;1fESCRIBE TU PRIMER APELLIDO ? $" ;TEXTO EN LINEA 16
	APELLIDO1		DB 	80 DUP (0) ;ALMACENA EL PRIMER APELLIDO
	PREG_AP2 		DB 	1BH,"[17;1fESCRIBE TU SEGUNDO APELLIDO ? $" ;TEXTO EN LINEA 17
	APELLIDO2		DB 	80 DUP (0) ;ALMACENA EL SEGUNDO APELLIDO
;_______________________________________________________________
; FINAL MODIFICACION 1

	TEXTO 		DB 	1BH,"[22;1fDON ","$"
	TEXTO2 		DB 	" ES ALUMNO DE 2� CURSO DE "
			DB 	"INGENIERIA INFORMATICA",13,10,"$"
DATOS ENDS
;_______________________________________________________________
; DEFINICION DEL SEGMENTO DE PILA
PILA SEGMENT STACK "STACK"
	DB 40H DUP (0)
PILA ENDS
;_______________________________________________________________
; DEFINICION DEL SEGMENTO DE CODIGO
CODE SEGMENT
ASSUME CS:CODE,DS:DATOS,SS:PILA
; COMIENZO DEL PROCEDIMIENTO PRINCIPAL (START)
START PROC FAR
;INICIALIZACION DE LOS REGISTROS DE SEGMENTO
	MOV AX,DATOS
	MOV DS,AX	;FIN DE LAS INICIALIZACIONES

	MOV AH,9	; BORRA LA PANTALLA
	MOV DX, OFFSET CLR_PANT
	INT 21H

	MOV DX,OFFSET CUR_MICRO		;ESCRIBE "CURSO ...
	INT 21H

	MOV DX,OFFSET PREG_NOM		;MUESTRA "ESCRIBE ...
	INT 21H

	MOV AH,0AH			;ALMACENA EL NOMBRE TECLEADO
	MOV DX,OFFSET NOMBRE

	MOV NOMBRE[0],60		;MAXIMO NUMERO DE CARACTERES
	INT 21H

;_______________________________________________________________
; MODIFICACION 2
	MOV AH,9
	MOV DX,OFFSET PREG_AP1		;MUESTRA "ESCRIBE ...
	INT 21H

	MOV AH,0AH			;ALMACENA EL APELLIDO TECLEADO
	MOV DX,OFFSET APELLIDO1

	MOV APELLIDO1[0],60		;MAXIMO NUMERO DE CARACTERES
	INT 21H

	MOV AH,9
	MOV DX,OFFSET PREG_AP2		;MUESTRA "ESCRIBE ...
	INT 21H

	MOV AH,0AH			;ALMACENA EL AEPLLIDO TECLEADO
	MOV DX,OFFSET APELLIDO2

	MOV APELLIDO2[0],60		;MAXIMO NUMERO DE CARACTERES
	INT 21H
;_______________________________________________________________
; FINAL MODIFICACION 2

	MOV AH,9			;ESCRIBE "DON ...
	MOV DX, OFFSET TEXTO
	INT 21H

moV BX,0
OTRO:
	MOV DL,NOMBRE[BX+2]		;ESCRIBIR UN CARACTER DEL NOMBRE
	MOV AH,2
	INT 21H

	INC BX
	CMP BL, NOMBRE[1]		;COMPARA CON EL NUMERO DE CARACTERES
	JNE OTRO

;_______________________________________________________________
; MODIFICACION 3
MOV DL, ' ' 	;ESCRIBE UN ESPACIO (SEPARA NOMBRE DE PRIMER APELLIDO)
MOV AH,2
INT 21H

moV BX,0
OTRO2:
	MOV DL,APELLIDO1[BX+2]		;ESCRIBE UN CARACTER DEL PRIMER APELLIDO
	MOV AH,2
	INT 21H

	INC BX
	CMP BL, APELLIDO1[1]		;COMPARA CON EL NUMERO DE CARACTERES
	JNE OTRO2

MOV DL, ' ' 	;ESCRIBE UN ESPACIO (SEPARA PRIMER DE SEGUNDO APELLIDO)
MOV AH,2
INT 21H

moV BX,0
OTRO3:
	MOV DL,APELLIDO2[BX+2]		;ESCRIBE UN CARACTER DEL SEGUNDO APELLIDO
	MOV AH,2
	INT 21H

	INC BX
	CMP BL, APELLIDO2[1]		;COMPARA CON EL NUMERO DE CARACTERES
	JNE OTRO3
;_______________________________________________________________
; FINAL MODIFICACION 3

	MOV DX, OFFSET TEXTO2		; ESCRIBE "ES ALUMNO ...
	MOV AH,9
	INT 21H

	MOV AX,4C00H			; FIN DE PROGRAMA Y VUELTA AL DOS
	INT 21H
START ENDP
;FIN DEL SEGMENTO DE CODIGO
CODE ENDS
;FIN DE PROGRAMA INDICANDO DONDE COMIENZA LA EJECUCION
END START
